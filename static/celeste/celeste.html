<!DOCTYPE html>
<html>
<head>
	<meta http-equiv="Content-type" content="text/html; charset=utf-8" />
  	<title>celeste</title>
	<meta name="description" content=""/>
	<meta name="keywords" content=""/>
    <link type="text/css" rel="stylesheet" href="/static/css/main.css" />
    <script type="text/javascript" src="/static/js/jquery.notmin.js"></script>
    <script type="text/javascript" src="/static/js/util.js"></script>
    <script type="text/javascript" src="/static/js/objects.js"></script>
    <script type="text/javascript" src="/static/js/astro.js"></script>
    <script type="text/javascript" src="/static/js/celeste.js"></script>
<script type="text/javascript">	
	$(function(){//onReady
		var pane = new Canvas($('#canvas')[0]);
		var sunMap = new SunMap($('#sun-map')[0]);
		_viewer = new Viewer(pane, sunMap);
		if ($.param('al') != '') _viewer.al = parseFloat($.param('al'));
		if ($.param('az') != '') _viewer.az = parseFloat($.param('az')); 
		if ($.param('d') != '') _viewer.d = parseFloat($.param('d')); 
		_keyboard = new Keyboard(_viewer);
		_viewer.notifyFrameOfReferenceListeners();
		$(document).keydown(function(e){
			_keyboard.keyChange(e, true);
			if (debug){
				_keyboard.keyboardResponse();
			}
		}).keyup(function(e){
			_keyboard.keyChange(e, false);
		});
		if (!debug){
			setInterval(keyboardListener, 35);
		}
	});
	function keyboardListener(){
		_keyboard.keyboardResponse();
	}
</script>
</head>
<body>
<div>
	<div id="canvas-container">
		<canvas id="canvas" width="800" height="500"></canvas>
	</div>
	<div id="model-container">
		<canvas id="sun-map" width="360" height="180"></canvas>
		<div id="time"></div>
		<div>
			az = <span id="model_v_az"></span><br>
			al = <span id="model_v_al"></span><br>
			dist = <span id="model_s_d"></span><br>
		</div>
	</div>
	<div style="clear: both">
	</div>
</div>	
 </body>
</html>
